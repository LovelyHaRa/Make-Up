(this["webpackJsonpmakeuphara-front-end"]=this["webpackJsonpmakeuphara-front-end"]||[]).push([[22],{185:function(e,n,t){"use strict";t.d(n,"a",(function(){return g}));var r=t(13),a=t(0),o=t.n(a),i=t(11),c=t(45);function u(){var e=Object(r.a)(["\n  width: 1.5rem;\n  padding: 0.375rem;\n  text-align: center;\n  & + & {\n    margin-left: 0.25rem;\n  }\n"]);return u=function(){return e},e}function m(){var e=Object(r.a)(["\n  width: 1rem;\n  padding: 0.375rem;\n  text-align: center;\n  & + & {\n    margin-left: 0.25rem;\n  }\n"]);return m=function(){return e},e}function l(){var e=Object(r.a)(["\n  width: 320px;\n  margin: 2rem auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  span {\n    margin: 0 0.25rem;\n    color: ",";\n  }\n  span::before {\n    content: '\\B7\\B7\\B7';\n  }\n"],["\n  width: 320px;\n  margin: 2rem auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  span {\n    margin: 0 0.25rem;\n    color: ",";\n  }\n  span::before {\n    content: '\\\\B7\\\\B7\\\\B7';\n  }\n"]);return l=function(){return e},e}var s=i.c.div(l(),(function(e){return e.theme.text})),d=Object(i.c)(c.b)(m()),f=Object(i.c)(c.b)(u()),p=function(e){var n=e.path,t=e.query,r=e.page;return t.length>0?"".concat(n,"?").concat(t,"&page=").concat(r):"".concat(n,"?page=").concat(r)},b=function(e,n){var t={front:[],mid:[],end:[]},r=e<=n/2?"first":"last";if(n<=9){for(var a=1;a<=n;a++)t.mid.push(a);return t.front=null,t.end=null,t}var o=parseInt(2.5);if("first"===r){for(var i=1;i<=3;i++)t.front.push(i);if(e<=3&&(e=4),e-o<=3){for(var c=o,u=e-1;u>3;u--)t.mid.push(u),c--;for(var m=e;m<=e+o+c;m++)t.mid.push(m)}else for(var l=e-o;l<=e+o;l++)t.mid.push(l);t.end.push(n)}else if("last"===r){t.front.push(1);for(var s=0;s<3;s++)t.end.push(n-s);if(e>=n-3+1&&(e=n-3),e+o>=n-3+1){for(var d=o,f=e+1;f<n-3+1;f++)t.mid.push(f),d--;for(var p=e;p>=e-o-d;p--)t.mid.push(p)}else for(var b=e-o;b<=e+o;b++)t.mid.push(b)}return t.front.sort((function(e,n){return e-n})),t.mid.sort((function(e,n){return e-n})),t.end.sort((function(e,n){return e-n})),t.front[t.front.length-1]+1===t.mid[0]&&(t.mid=t.front.concat(t.mid),t.front=null),t.mid[t.mid.length-1]+1===t.end[0]&&(t.mid=t.mid.concat(t.end),t.end=null),t},g=function(e){var n=e.handleClick,t=e.page,r=e.lastPage,a=b(t,r);return o.a.createElement(s,null,a.front&&a.front.map((function(e){return o.a.createElement(f,{disabled:t===e,onClick:function(){return n(e)},key:e},e)})),a.front&&o.a.createElement("span",null),a.mid&&a.mid.map((function(e){return o.a.createElement(f,{disabled:t===e,onClick:function(){return n(e)},key:e},e)})),a.end&&o.a.createElement("span",null),a.end&&a.end.map((function(e){return o.a.createElement(f,{disabled:t===e,onClick:function(){return n(e)},key:e},e)})))};n.b=function(e){var n=e.path,t=e.query,r=e.page,a=e.lastPage,i=b(r,a);return o.a.createElement(s,null,i.front&&i.front.map((function(e){return o.a.createElement(d,{disabled:r===e,to:p({path:n,query:t,page:e}),key:e},e)})),i.front&&o.a.createElement("span",null),i.mid&&i.mid.map((function(e){return o.a.createElement(d,{disabled:r===e,to:p({path:n,query:t,page:e}),key:e},e)})),i.end&&o.a.createElement("span",null),i.end&&i.end.map((function(e){return o.a.createElement(d,{disabled:r===e,to:p({path:n,query:t,page:e}),key:e},e)})))}},250:function(e,n,t){"use strict";t.r(n);var r=t(5),a=t(21),o=t.n(a),i=t(206),c=t(9),u=t(0),m=t.n(u),l=t(13),s=t(11),d=t(49),f=t(223),p=t(244),b=t(45),g=t(180),h=t.n(g),O=t(178),v=t(17),E=t(56),j=t(4),x=(t(6),t(24)),y=t(26),C=t(82),k=t(173),w=t(42),B=t(35),L=t(192),M=t(243),N=t(34),T=u.forwardRef((function(e,n){var t=e.action,r=e.classes,a=e.className,o=e.message,i=e.role,c=void 0===i?"alert":i,m=Object(v.a)(e,["action","classes","className","message","role"]);return u.createElement(p.a,Object(j.a)({role:c,square:!0,elevation:6,className:Object(x.a)(r.root,a),ref:n},m),u.createElement("div",{className:r.message},o),t?u.createElement("div",{className:r.action},t):null)})),I=Object(y.a)((function(e){var n="light"===e.palette.type?.8:.98,t=Object(N.b)(e.palette.background.default,n);return{root:Object(j.a)({},e.typography.body2,Object(E.a)({color:e.palette.getContrastText(t),backgroundColor:t,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(T),P=u.forwardRef((function(e,n){var t=e.action,r=e.anchorOrigin,a=(r=void 0===r?{vertical:"bottom",horizontal:"center"}:r).vertical,o=r.horizontal,i=e.autoHideDuration,c=void 0===i?null:i,m=e.children,l=e.classes,s=e.className,d=e.ClickAwayListenerProps,f=e.ContentProps,p=e.disableWindowBlurListener,b=void 0!==p&&p,g=e.message,h=e.onClose,O=e.onEnter,E=e.onEntered,y=e.onEntering,N=e.onExit,T=e.onExited,P=e.onExiting,R=e.onMouseEnter,D=e.onMouseLeave,H=e.open,S=e.resumeHideDuration,q=e.TransitionComponent,_=void 0===q?M.a:q,z=e.transitionDuration,G=void 0===z?{enter:C.b.enteringScreen,exit:C.b.leavingScreen}:z,A=e.TransitionProps,W=Object(v.a)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),Y=u.useRef(),J=u.useState(!0),F=J[0],X=J[1],K=Object(w.a)((function(){h&&h.apply(void 0,arguments)})),Q=Object(w.a)((function(e){h&&null!=e&&(clearTimeout(Y.current),Y.current=setTimeout((function(){K(null,"timeout")}),e))}));u.useEffect((function(){return H&&Q(c),function(){clearTimeout(Y.current)}}),[H,c,Q]);var U=function(){clearTimeout(Y.current)},V=u.useCallback((function(){null!=c&&Q(null!=S?S:.5*c)}),[c,S,Q]);return u.useEffect((function(){if(!b&&H)return window.addEventListener("focus",V),window.addEventListener("blur",U),function(){window.removeEventListener("focus",V),window.removeEventListener("blur",U)}}),[b,V,H]),!H&&F?null:u.createElement(k.a,Object(j.a)({onClickAway:function(e){h&&h(e,"clickaway")}},d),u.createElement("div",Object(j.a)({className:Object(x.a)(l.root,l["anchorOrigin".concat(Object(B.a)(a)).concat(Object(B.a)(o))],s),onMouseEnter:function(e){R&&R(e),U()},onMouseLeave:function(e){D&&D(e),V()},ref:n},W),u.createElement(_,Object(j.a)({appear:!0,in:H,onEnter:Object(L.a)((function(){X(!1)}),O),onEntered:E,onEntering:y,onExit:N,onExited:Object(L.a)((function(){X(!0)}),T),onExiting:P,timeout:G,direction:"top"===a?"down":"up"},A),m||u.createElement(I,Object(j.a)({message:g,action:t},f)))))})),R=Object(y.a)((function(e){var n={top:8},t={bottom:8},r={justifyContent:"flex-end"},a={justifyContent:"flex-start"},o={top:24},i={bottom:24},c={right:24},u={left:24},m={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:Object(j.a)({},n,Object(E.a)({},e.breakpoints.up("sm"),Object(j.a)({},o,{},m))),anchorOriginBottomCenter:Object(j.a)({},t,Object(E.a)({},e.breakpoints.up("sm"),Object(j.a)({},i,{},m))),anchorOriginTopRight:Object(j.a)({},n,{},r,Object(E.a)({},e.breakpoints.up("sm"),Object(j.a)({left:"auto"},o,{},c))),anchorOriginBottomRight:Object(j.a)({},t,{},r,Object(E.a)({},e.breakpoints.up("sm"),Object(j.a)({left:"auto"},i,{},c))),anchorOriginTopLeft:Object(j.a)({},n,{},a,Object(E.a)({},e.breakpoints.up("sm"),Object(j.a)({right:"auto"},o,{},u))),anchorOriginBottomLeft:Object(j.a)({},t,{},a,Object(E.a)({},e.breakpoints.up("sm"),Object(j.a)({right:"auto"},i,{},u)))}}),{flip:!1,name:"MuiSnackbar"})(P),D=t(211);function H(){var e=Object(l.a)(["\n  margin-top: 0;\n  .list-item {\n    display: flex;\n    flex-direction: column;\n    margin: 1rem;\n    border-bottom: 1px solid ",";\n  }\n  .commenter-info {\n    margin-bottom: 1rem;\n    span + span::before {\n      padding: 0 0.25rem;\n      content: '\\B7'; /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n    }\n  }\n  .comment-content {\n    display: flex;\n    align-items: center;\n    margin-bottom: 1rem;\n    .comment-body {\n      flex: 1;\n      margin-right: 0.5rem;\n    }\n  }\n"],["\n  margin-top: 0;\n  .list-item {\n    display: flex;\n    flex-direction: column;\n    margin: 1rem;\n    border-bottom: 1px solid ",";\n  }\n  .commenter-info {\n    margin-bottom: 1rem;\n    span + span::before {\n      padding: 0 0.25rem;\n      content: '\\\\B7'; /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n    }\n  }\n  .comment-content {\n    display: flex;\n    align-items: center;\n    margin-bottom: 1rem;\n    .comment-body {\n      flex: 1;\n      margin-right: 0.5rem;\n    }\n  }\n"]);return H=function(){return e},e}function S(){var e=Object(l.a)(["\n  border: none;\n  transition: all ease-in 0.1s;\n"]);return S=function(){return e},e}function q(){var e=Object(l.a)(["\n  flex: 1;\n  .MuiInputBase-input {\n    color: ",";\n    font-family: 'NanumBarunGothic';\n  }\n  .MuiInputBase-input::placeholder {\n    opacity: 0.6;\n    font-family: 'NanumBarunGothic';\n    color: ",";\n  }\n  .MuiInput-underline:hover:not(.Mui-disabled)::before {\n    border-bottom: 2px solid ",";\n  }\n  .MuiInput-underline::before {\n    border-bottom: 1px solid ",";\n  }\n  .MuiInput-underline::after {\n    border-bottom: 2px solid ",";\n  }\n"]);return q=function(){return e},e}function _(){var e=Object(l.a)(["\n  display: flex;\n  &.MuiPaper-root {\n    background: ",";\n  }\n  margin: 1rem 0;\n  .button-text {\n    padding: 0.25rem 1rem;\n    background: ",";\n    border-radius: 2px;\n    color: ",";\n  }\n"]);return _=function(){return e},e}function z(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 2rem;\n  font-family: 'NanumBarunGothic';\n  color: ",";\n"]);return z=function(){return e},e}var G=Object(s.c)(d.a)(z(),(function(e){return e.theme.text})),A=Object(s.c)(p.a)(_(),(function(e){return e.theme.body}),(function(e){return e.theme.btnTransparentHoverBody}),(function(e){return e.theme.btnTransparentHoverText})),W=Object(s.c)(f.a)(q(),(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.theme.themeColorHoverBody}),(function(e){return e.theme.text}),(function(e){return e.theme.themeColorBody})),Y=Object(s.c)(b.b)(S()),J=s.c.div(H(),(function(e){return e.theme.postBorder})),F=function(e){var n=e.commenter,t=e.commentDate,r=e.body,a=e.isOwner,o=e.actionButtons;return m.a.createElement("div",{className:"list-item"},m.a.createElement("div",{className:"commenter-info"},m.a.createElement("span",null,n.username),m.a.createElement("span",null,h()(t).format("YYYY-MM-DD HH:mm:ss"))),m.a.createElement("div",{className:"comment-content"},m.a.createElement("div",{className:"comment-body"},r.split("\n").map((function(e,n){return m.a.createElement("span",{key:"commentBody".concat(n)},e,m.a.createElement("br",null))}))),a&&o))},X=function(e){var n=e.commentList,t=e.loading,r=(e.error,e.count),a=e.commentInput,o=e.handleChange,i=e.handleSubmit,c=e.user,u=e.result,l=e.handleResultClose,s=e.handleEdit,d=e.handleRemove;return m.a.createElement(G,null,m.a.createElement("span",null,"\ub313\uae00 ",r),m.a.createElement(A,{elevation:0},m.a.createElement(W,{multiline:!0,placeholder:c?"\ub313\uae00 \uc785\ub825":"\ub85c\uadf8\uc778 \ud6c4 \ub313\uae00\uc744 \uc791\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4",disabled:!c,value:a,onChange:o}),c&&m.a.createElement(Y,{transparent:!0,onClick:i},m.a.createElement("span",{className:"button-text"},"\uc791\uc131"))),t?m.a.createElement(O.a,{customHeight:10}):m.a.createElement(J,null,n.map((function(e){return m.a.createElement(F,{key:e._id,commenter:e.commenter,commentDate:e.commentDate,body:e.body,isOwner:c&&e.commenter._id===c._id,actionButtons:m.a.createElement(D.a,{type:"comment",onEdit:s,onRemove:function(){return d(e._id)}})})}))),m.a.createElement(R,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!u.state,autoHideDuration:3e3,onClose:l,message:u.message}))},K=t(19),Q=t(39),U=t(73),V=t(185),Z=t(44);n.default=Object(Q.e)((function(e){var n=e.match,t=Object(K.b)(),a=n.params.postId,l=Object(K.c)((function(e){var n=e.post,t=e.loading,r=e.user;return{commentList:n.commentList,count:n.commentCount,lastPage:n.commentLastPage,error:n.commentListError,loading:t["post/READ_POST_COMMENT"],editComment:n.editComment,editCommentError:n.editCommentError,user:r.user}})),s=l.commentList,d=l.count,f=l.lastPage,p=l.error,b=l.loading,g=l.editComment,h=l.editCommentError,O=l.user,v=Object(u.useState)(""),E=Object(c.a)(v,2),j=E[0],x=E[1],y=Object(u.useState)(1),C=Object(c.a)(y,2),k=C[0],w=C[1],B=Object(u.useState)({state:!1,message:""}),L=Object(c.a)(B,2),M=L[0],N=L[1],T=function(){var e=Object(i.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Z.a)({id:a,commentId:n});case 3:r=e.sent,console.log(r),204===r.status&&(t(Object(U.g)({id:a,page:k})),N({state:"false",message:"\uc131\uacf5\uc801\uc73c\ub85c \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."})),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){t(Object(U.g)({id:a}))}),[t,a]),Object(u.useEffect)((function(){g&&(t(Object(U.g)({id:a})),w(1),N((function(e){return Object(r.a)({},e,{state:!0})})))}),[t,g,a]),m.a.createElement(m.a.Fragment,null,m.a.createElement(X,{commentList:s,loading:b,error:p,editCommentError:h,count:d,commentInput:j,handleChange:function(e){x(e.target.value)},handleSubmit:function(){t(Object(U.m)({id:a,body:j})),x(""),N({state:"false",message:"\uc131\uacf5\uc801\uc73c\ub85c \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4."})},user:O,result:M,handleResultClose:function(e,n){"clickaway"!==n&&N({state:!1,message:""})},handleRemove:T}),!b&&!p&&m.a.createElement(V.a,{handleClick:function(e){t(Object(U.g)({id:a,page:e})),w(e)},page:k,lastPage:f}))}))}}]);
//# sourceMappingURL=22.cdbcdee1.chunk.js.map