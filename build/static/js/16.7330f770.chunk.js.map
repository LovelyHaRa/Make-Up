{"version":3,"sources":["components/common/ErrorBlock.js","components/common/LoadingProgress.js","components/common/Modal.js","components/wiki/InputBarcodeModal.js","components/wiki/WikiViewer.js","containers/wiki/WikiViewerContainer.js"],"names":["ErrorBlock","styled","div","theme","text","errorText","LoadingProgressBlock","props","customHeight","css","CustomCircularProgress","CircularProgress","categoryBorder","LoadingProgress","full","body","className","FullScreen","AskModalBlock","SingleInputModalBlock","themeColorBody","StyledButton","Button","StyledTextField","TextField","placeholder","themeColorHoverBody","AskModal","visible","title","description","confirmText","cancelText","onConfirm","onCancel","in","onClick","themeColor","SingleInputModal","inputLabel","inputName","submitText","onSubmit","onChange","value","error","resultMessage","success","failure","id","label","name","require","InputBarcodeModal","WikiViewerBlock","WikiViewerErrorBlock","DocumentMenuBlock","wikiMenuBorder","wikiActionButtonHoverBody","hoverText","DocumentMenu","onEdit","docName","handleBarcodeChange","handleBarcodeSubmit","barcode","inputBarcodeError","availableBarcode","useState","modal","setModal","handleInputCodeButtonClick","useCallback","useEffect","window","onclick","event","target","includes","to","DocumentBlock","Responsive","TitleBlock","BodyBlock","DocumentContent","WikiViewer","document","loading","response","status","statusText","publishedDate","moment","format","dangerouslySetInnerHTML","__html","withRouter","location","match","history","dispatch","useDispatch","params","useSelector","wiki","user","documentError","result","addBarcodeNumberResult","resultError","addBarcodeNumberResultError","r","qs","parse","search","ignoreQueryPrefix","setBarcode","setInputBarcodeError","setResultMessage","setAvailableBarcode","setOriginalDocument","push","data","length","isNaN","preventDefault","addBarcodeNumber","code","readDocument","replace","unloadDocument","message"],"mappings":"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","file":"static/js/16.7330f770.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\n/**\r\n * 에러를 보여주기 위한 컴포넌트\r\n */\r\n\r\nconst ErrorBlock = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 3rem;\r\n  font-family: 'NanumBarunGothic';\r\n  color: ${({ theme }) => theme.text};\r\n  span + span {\r\n    margin-top: 1rem;\r\n  }\r\n  .error-msg {\r\n    color: ${({ theme }) => theme.errorText};\r\n  }\r\n`;\r\n\r\nexport default ErrorBlock;\r\n","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n/**\r\n * 로딩 프로그래스 컴포넌트\r\n */\r\n\r\nconst LoadingProgressBlock = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  &.full-height {\r\n    height: 100vh;\r\n  }\r\n  &.body-height {\r\n    height: 90vh;\r\n  }\r\n  ${(props) =>\r\n    props.customHeight &&\r\n    css`\r\n      height: ${props.customHeight}vh;\r\n    `}\r\n`;\r\n\r\nconst CustomCircularProgress = styled(CircularProgress)`\r\n  &.MuiCircularProgress-colorPrimary {\r\n    color: ${({ theme }) => theme.categoryBorder};\r\n  }\r\n`;\r\n\r\nconst LoadingProgress = (props) => {\r\n  const { full, body } = props;\r\n  return (\r\n    <LoadingProgressBlock\r\n      {...props}\r\n      className={full ? 'full-height' : body ? 'body-height' : ''}\r\n    >\r\n      <CustomCircularProgress />\r\n    </LoadingProgressBlock>\r\n  );\r\n};\r\n\r\nexport default LoadingProgress;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Button from './Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Fade from '@material-ui/core/Fade';\r\n\r\n/**\r\n * 공통 모달 컴포넌트\r\n */\r\n\r\nconst FullScreen = styled.div`\r\n  position: fixed;\r\n  z-index: 30;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: ${({ theme }) =>\r\n    theme.body === '#fff' ? 'rgba(0, 0, 0, 0.25)' : 'rgba(0, 0, 0, 0.45)'};\r\n  font-family: 'NanumBarunGothic';\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\n/**\r\n * 확인/취소 모달 스타일\r\n */\r\nconst AskModalBlock = styled.div`\r\n  width: 320px;\r\n  background: ${({ theme }) => theme.body};\r\n  color: ${({ theme }) => theme.text};\r\n  padding: 1.5rem;\r\n  border-radius: 4px;\r\n  box-shadow: ${({ theme }) =>\r\n    theme.body === '#fff'\r\n      ? '0 0 5px 2px rgba(0, 0, 0, 0.15)'\r\n      : '0 0 5px 2px rgba(0, 0, 0, 0.35)'};\r\n  h2 {\r\n    margin-top: 0;\r\n    margin-bottom: 1rem;\r\n    font-size: 1.25rem;\r\n    font-weight: 500;\r\n  }\r\n  p {\r\n    margin-bottom: 3rem;\r\n  }\r\n  .buttons {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n  }\r\n`;\r\n\r\n/**\r\n * 싱글 input 모달 스타일\r\n */\r\nconst SingleInputModalBlock = styled.div`\r\n  width: 320px;\r\n  background: ${({ theme }) => theme.body};\r\n  color: ${({ theme }) => theme.text};\r\n  padding: 1.5rem;\r\n  border-radius: 4px;\r\n  box-shadow: ${({ theme }) =>\r\n    theme.body === '#fff'\r\n      ? '0 0 5px 2px rgba(0, 0, 0, 0.15)'\r\n      : '0 0 5px 2px rgba(0, 0, 0, 0.35)'};\r\n  h2 {\r\n    margin-top: 0;\r\n    margin-bottom: 1rem;\r\n    font-size: 1.25rem;\r\n    font-weight: 500;\r\n  }\r\n  p {\r\n    margin-bottom: 1rem;\r\n  }\r\n  .single-input-form {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n  .buttons {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n  }\r\n  .result {\r\n    font-size: 0.9rem;\r\n  }\r\n  .result.success {\r\n    color: ${({ theme }) => theme.themeColorBody};\r\n  }\r\n  .result.failure {\r\n    color: ${({ theme }) => theme.errorText};\r\n  }\r\n`;\r\n\r\n// 공통 버튼\r\nconst StyledButton = styled(Button)`\r\n  height: 2rem;\r\n  & + & {\r\n    margin-left: 0.5rem;\r\n  }\r\n`;\r\n\r\n// input 텍스트필드\r\nconst StyledTextField = styled(TextField)`\r\n  &.MuiTextField-root {\r\n    margin-bottom: 1rem;\r\n    width: 8rem;\r\n  }\r\n  .MuiFormLabel-root {\r\n    font-family: 'Raleway';\r\n    letter-spacing: 2px;\r\n    color: ${({ theme }) => theme.placeholder};\r\n  }\r\n  .MuiFormLabel-root.Mui-focused {\r\n    color: ${({ theme }) => theme.themeColorBody};\r\n  }\r\n  .MuiInput-underline:hover:not(.Mui-disabled)::before {\r\n    border-bottom: 2px solid ${({ theme }) => theme.themeColorHoverBody};\r\n  }\r\n  .MuiInput-underline::before {\r\n    border-bottom: 1px solid ${({ theme }) => theme.text};\r\n  }\r\n  .MuiInput-underline::after {\r\n    border-bottom: 2px solid ${({ theme }) => theme.themeColorBody};\r\n  }\r\n  .MuiInputBase-input {\r\n    color: ${({ theme }) => theme.text};\r\n  }\r\n  .MuiInputBase-input::placeholder {\r\n    font-size: 0.8rem;\r\n  }\r\n`;\r\n\r\nexport const AskModal = ({\r\n  className,\r\n  visible,\r\n  title,\r\n  description,\r\n  confirmText = '확인',\r\n  cancelText = '취소',\r\n  onConfirm,\r\n  onCancel,\r\n}) => {\r\n  return (\r\n    visible && (\r\n      <Fade in={visible}>\r\n        <FullScreen className={className}>\r\n          <AskModalBlock>\r\n            <h2>{title}</h2>\r\n            <p>{description}</p>\r\n            <div className=\"buttons\">\r\n              <StyledButton onClick={onCancel}>{cancelText}</StyledButton>\r\n              <StyledButton themeColor onClick={onConfirm}>\r\n                {confirmText}\r\n              </StyledButton>\r\n            </div>\r\n          </AskModalBlock>\r\n        </FullScreen>\r\n      </Fade>\r\n    )\r\n  );\r\n};\r\n\r\nexport const SingleInputModal = ({\r\n  className,\r\n  visible,\r\n  title,\r\n  description,\r\n  inputLabel,\r\n  inputName,\r\n  placeholder,\r\n  submitText = '확인',\r\n  cancelText = '닫기',\r\n  onSubmit,\r\n  onCancel,\r\n  onChange,\r\n  value,\r\n  error,\r\n  resultMessage,\r\n}) => {\r\n  const { success, failure } = resultMessage;\r\n  return (\r\n    visible && (\r\n      <Fade in={visible}>\r\n        <FullScreen className={className}>\r\n          <SingleInputModalBlock>\r\n            <h2>{title}</h2>\r\n            <p>{description}</p>\r\n            <form onSubmit={onSubmit}>\r\n              <div className=\"single-input-form\">\r\n                <StyledTextField\r\n                  id=\"standard-basic\"\r\n                  label={inputLabel}\r\n                  name={inputName}\r\n                  require=\"true\"\r\n                  onChange={onChange}\r\n                  value={value}\r\n                  error={error}\r\n                  placeholder={placeholder}\r\n                />\r\n                <div className=\"buttons\">\r\n                  <StyledButton onClick={onCancel}>{cancelText}</StyledButton>\r\n                  <StyledButton themeColor onClick={onSubmit}>\r\n                    {submitText}\r\n                  </StyledButton>\r\n                </div>\r\n              </div>\r\n              {success !== '' && (\r\n                <span className=\"result success\">{success}</span>\r\n              )}\r\n              {failure !== '' && (\r\n                <span className=\"result failure\">{failure}</span>\r\n              )}\r\n            </form>\r\n          </SingleInputModalBlock>\r\n        </FullScreen>\r\n      </Fade>\r\n    )\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { SingleInputModal } from '../common/Modal';\r\n\r\n/**\r\n * 바코드 등록 모달\r\n */\r\n\r\nconst InputBarcodeModal = ({\r\n  className,\r\n  visible,\r\n  onSubmit,\r\n  onCancel,\r\n  onChange,\r\n  value,\r\n  error,\r\n  resultMessage,\r\n}) => {\r\n  return (\r\n    <SingleInputModal\r\n      className={className}\r\n      visible={visible}\r\n      title=\"바코드 등록\"\r\n      description=\"바코드 번호를 등록할 수 있습니다.\"\r\n      inputLabel=\"BARCODE\"\r\n      inputName=\"barcode\"\r\n      placeholder=\"13자리 바코드 번호\"\r\n      submitText=\"코드 등록\"\r\n      onSubmit={onSubmit}\r\n      onCancel={onCancel}\r\n      onChange={onChange}\r\n      value={value}\r\n      error={error}\r\n      resultMessage={resultMessage}\r\n    />\r\n  );\r\n};\r\n\r\nexport default InputBarcodeModal;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport Responsive from '../common/Responsive';\r\nimport { Link } from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport ErrorBlock from '../common/ErrorBlock';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport InputBarcodeModal from './InputBarcodeModal';\r\nimport LoadingProgress from '../common/LoadingProgress';\r\n\r\n/**\r\n * 위키 뷰어 컴포넌트\r\n */\r\n\r\nconst WikiViewerBlock = styled.div``;\r\n\r\nconst WikiViewerErrorBlock = styled(ErrorBlock)`\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 85vh;\r\n`;\r\n\r\nconst DocumentMenuBlock = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  background: ${({ theme }) => theme.body};\r\n  color: ${({ theme }) => theme.text};\r\n  border-bottom: 1px solid ${({ theme }) => theme.wikiMenuBorder};\r\n  & > button,\r\n  & > a {\r\n    padding: 0.25rem 0.75rem;\r\n    outline: none;\r\n    border: none;\r\n    border-left: 1px solid ${({ theme }) => theme.wikiMenuBorder};\r\n    cursor: pointer;\r\n    background: ${({ theme }) => theme.body};\r\n    color: ${({ theme }) => theme.text};\r\n    &:hover {\r\n      background: ${({ theme }) => theme.wikiActionButtonHoverBody};\r\n      color: ${({ theme }) => theme.hoverText};\r\n    }\r\n  }\r\n  & > a {\r\n    padding-top: 0.3rem;\r\n    font-size: 0.8rem;\r\n    align-items: center;\r\n  }\r\n  li {\r\n    list-style: square !important;\r\n  }\r\n`;\r\n\r\nconst DocumentMenu = ({\r\n  onEdit,\r\n  docName,\r\n  handleBarcodeChange,\r\n  handleBarcodeSubmit,\r\n  barcode,\r\n  inputBarcodeError,\r\n  resultMessage,\r\n  availableBarcode,\r\n}) => {\r\n  const [modal, setModal] = useState(false);\r\n\r\n  const handleInputCodeButtonClick = useCallback(() => {\r\n    setModal(true);\r\n  }, []);\r\n  const onCancel = useCallback(() => {\r\n    setModal(false);\r\n  }, []);\r\n\r\n  /* 모달 영역 밖 클릭시 모달 닫기 */\r\n  useEffect(() => {\r\n    window.onclick = (event) => {\r\n      if (\r\n        !!event.target.className.includes &&\r\n        event.target.className.includes('modal')\r\n      ) {\r\n        setModal(false);\r\n      }\r\n    };\r\n    // 언마운트시 이벤트 제거\r\n    return () => {\r\n      window.onclick = () => {};\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {availableBarcode && (\r\n        <button onClick={handleInputCodeButtonClick}>코드 등록</button>\r\n      )}\r\n      <button onClick={onEdit}>편집</button>\r\n      <Link to={`/wiki/history/${docName}`}>역사</Link>\r\n      <InputBarcodeModal\r\n        className=\"modal\"\r\n        visible={modal}\r\n        onSubmit={handleBarcodeSubmit}\r\n        onChange={handleBarcodeChange}\r\n        value={barcode}\r\n        onCancel={onCancel}\r\n        error={inputBarcodeError}\r\n        resultMessage={resultMessage}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst DocumentBlock = styled(Responsive)`\r\n  margin: 1rem auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  color: ${({ theme }) => theme.text};\r\n`;\r\n\r\nconst TitleBlock = styled.div`\r\n  h2 {\r\n    font-family: 'NanumBarunGothic';\r\n    font-weight: 600;\r\n  }\r\n  p {\r\n    font-family: 'NanumBarunGothic';\r\n    text-align: right;\r\n  }\r\n  hr {\r\n    background: ${({ theme }) => theme.wikiMenuBorder};\r\n    border: 0;\r\n    height: 1px;\r\n  }\r\n`;\r\n\r\nconst BodyBlock = styled.div`\r\n  margin: 1rem 0;\r\n`;\r\n\r\nconst DocumentContent = styled.div`\r\n  color: ${({ theme }) => theme.text};\r\n  p {\r\n    margin-top: 0.25rem;\r\n    margin-bottom: 0.25rem;\r\n  }\r\n  .ql-video {\r\n    margin: 0 1%;\r\n    width: 98%;\r\n    height: 570px;\r\n  }\r\n  .ql-align-left {\r\n    text-align: left;\r\n  }\r\n  .ql-align-center {\r\n    text-align: center;\r\n  }\r\n  .ql-align-right {\r\n    text-align: right;\r\n  }\r\n  @media screen and (max-width: 1024px) {\r\n    .ql-video {\r\n      height: 400px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst WikiViewer = ({\r\n  document,\r\n  error,\r\n  loading,\r\n  onEdit,\r\n  docName,\r\n  handleBarcodeChange,\r\n  handleBarcodeSubmit,\r\n  barcode,\r\n  inputBarcodeError,\r\n  resultMessage,\r\n  availableBarcode,\r\n}) => {\r\n  if (error) {\r\n    if (error.response && error.response.status === 404) {\r\n      return (\r\n        <WikiViewerBlock>\r\n          <DocumentBlock>\r\n            <TitleBlock>\r\n              <h2>{docName}</h2>\r\n            </TitleBlock>\r\n            <DocumentContent>존재하지 않는 위키 문서입니다.</DocumentContent>\r\n          </DocumentBlock>\r\n        </WikiViewerBlock>\r\n      );\r\n    } else {\r\n      return (\r\n        <WikiViewerErrorBlock>\r\n          <span className=\"error-title\">문서 요청 실패.</span>\r\n          <span>\r\n            Status: <span className=\"error-msg\">{error.response.status}</span>\r\n          </span>\r\n          <span>\r\n            Message:{' '}\r\n            <span className=\"error-msg\">{error.response.statusText}</span>\r\n          </span>\r\n        </WikiViewerErrorBlock>\r\n      );\r\n    }\r\n  }\r\n\r\n  if (loading || !document) {\r\n    return <LoadingProgress customHeight={80} />;\r\n  }\r\n  const { title, body, publishedDate } = document;\r\n\r\n  return (\r\n    <WikiViewerBlock>\r\n      {title && (\r\n        <Helmet>\r\n          <title>{title.name} - MAKE UP HARA</title>\r\n        </Helmet>\r\n      )}\r\n      <DocumentMenuBlock>\r\n        <DocumentMenu\r\n          onEdit={onEdit}\r\n          docName={docName}\r\n          handleBarcodeChange={handleBarcodeChange}\r\n          handleBarcodeSubmit={handleBarcodeSubmit}\r\n          barcode={barcode}\r\n          inputBarcodeError={inputBarcodeError}\r\n          resultMessage={resultMessage}\r\n          availableBarcode={availableBarcode}\r\n        />\r\n      </DocumentMenuBlock>\r\n      <DocumentBlock>\r\n        <TitleBlock>\r\n          <h2>{title && title.name}</h2>\r\n          <p>\r\n            최근 수정시각: {moment(publishedDate).format('YYYY-MM-DD HH:mm:ss')}\r\n          </p>\r\n          <hr />\r\n        </TitleBlock>\r\n        <BodyBlock>\r\n          <DocumentContent dangerouslySetInnerHTML={{ __html: body }} />\r\n        </BodyBlock>\r\n      </DocumentBlock>\r\n    </WikiViewerBlock>\r\n  );\r\n};\r\n\r\nexport default WikiViewer;\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport WikiViewer from '../../components/wiki/WikiViewer';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport {\r\n  readDocument,\r\n  unloadDocument,\r\n  setOriginalDocument,\r\n  addBarcodeNumber,\r\n} from '../../module/redux/wiki';\r\nimport qs from 'qs';\r\n\r\nconst WikiViewerContainer = ({ location, match, history }) => {\r\n  // 액션 함수 불러오기\r\n  const dispatch = useDispatch();\r\n  // 전역 상태 불러오기\r\n  const { docName } = match.params;\r\n  const { document, error, loading, result, resultError, user } = useSelector(\r\n    ({ wiki, user, loading }) => ({\r\n      document: wiki.document,\r\n      error: wiki.documentError,\r\n      loading: loading['wiki/READ_DOCUMENT'],\r\n      result: wiki.addBarcodeNumberResult,\r\n      resultError: wiki.addBarcodeNumberResultError,\r\n      user: user.user,\r\n    }),\r\n  );\r\n  const { r } = qs.parse(location.search, { ignoreQueryPrefix: true });\r\n\r\n  const [barcode, setBarcode] = useState('');\r\n  const [inputBarcodeError, setInputBarcodeError] = useState(false);\r\n  const [resultMessage, setResultMessage] = useState({\r\n    success: '',\r\n    failure: '',\r\n  });\r\n  const [availableBarcode, setAvailableBarcode] = useState(false);\r\n\r\n  // 이벤트 정의\r\n  const onEdit = useCallback(() => {\r\n    dispatch(setOriginalDocument(document));\r\n    history.push('/wiki/edit');\r\n  }, [dispatch, history, document]);\r\n\r\n  const handleBarcodeChange = useCallback((event) => {\r\n    const data = event.target.value;\r\n    // 14자 이후로는 허용 안함\r\n    if (data.length < 14) {\r\n      setBarcode(event.target.value);\r\n    }\r\n    // 검증\r\n    if ((data.length > 0 && data.length < 13) || isNaN(data)) {\r\n      setInputBarcodeError(true);\r\n    } else {\r\n      setInputBarcodeError(false);\r\n    }\r\n    // 결과 메시지 초기화\r\n    setResultMessage({\r\n      success: '',\r\n      failure: '',\r\n    });\r\n  }, []);\r\n\r\n  // 바코드 등록 submit 이벤트\r\n  const handleBarcodeSubmit = useCallback(\r\n    (event) => {\r\n      event.preventDefault();\r\n      // 검증 성공시 액션 디스패치\r\n      if (!inputBarcodeError && barcode !== '') {\r\n        dispatch(\r\n          addBarcodeNumber({ title: document.title.name, code: barcode }),\r\n        );\r\n      }\r\n    },\r\n    [dispatch, inputBarcodeError, barcode, document],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (docName) {\r\n      dispatch(readDocument({ id: docName, r }));\r\n    } else {\r\n      history.replace('/w/MAKE UP HARA WIKI: 대문');\r\n    }\r\n    // 언마운트 될 때 포스트 데이터 제거\r\n    return () => {\r\n      dispatch(unloadDocument());\r\n      setBarcode('');\r\n    };\r\n  }, [dispatch, history, docName, r]);\r\n\r\n  useEffect(() => {\r\n    if (user) setAvailableBarcode(true);\r\n    else setAvailableBarcode(false);\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (result == null && resultError == null) {\r\n      return;\r\n    }\r\n    if (result) {\r\n      if (!result.error) {\r\n        setResultMessage({\r\n          success: '바코드 번호가 등록되었습니다!',\r\n          failure: '',\r\n        });\r\n      } else {\r\n        setResultMessage({\r\n          success: '',\r\n          failure: result.message,\r\n        });\r\n      }\r\n    } else if (resultError) {\r\n      if (resultError.response && resultError.response.status === 401) {\r\n        setResultMessage({\r\n          success: '',\r\n          failure: '로그인 후 등록할 수 있습니다.',\r\n        });\r\n      } else {\r\n        setResultMessage({\r\n          success: '',\r\n          failure: resultError.message,\r\n        });\r\n      }\r\n    }\r\n  }, [result, resultError]);\r\n\r\n  return (\r\n    <WikiViewer\r\n      document={document}\r\n      error={error}\r\n      loading={loading}\r\n      onEdit={onEdit}\r\n      docName={docName}\r\n      handleBarcodeChange={handleBarcodeChange}\r\n      handleBarcodeSubmit={handleBarcodeSubmit}\r\n      barcode={barcode}\r\n      inputBarcodeError={inputBarcodeError}\r\n      resultMessage={resultMessage}\r\n      user={user}\r\n      availableBarcode={availableBarcode}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withRouter(WikiViewerContainer);\r\n"],"sourceRoot":""}