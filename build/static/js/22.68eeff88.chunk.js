(this["webpackJsonpmakeuphara-front-end"]=this["webpackJsonpmakeuphara-front-end"]||[]).push([[22],{187:function(n,e,t){"use strict";t.d(e,"a",(function(){return p}));var r=t(14),o=t(1),a=(t(0),t(12)),i=function(n,e){var t={front:[],mid:[],end:[]},r=n<=e/2?"first":"last";if(e<=9){for(var o=1;o<=e;o+=1)t.mid.push(o);return t.front=null,t.end=null,t}var a=parseInt(2.5,10);if("first"===r){for(var i=1;i<=3;i+=1)t.front.push(i);if(n<=3&&(n=4),n-a<=3){for(var c=a,s=n-1;s>3;s-=1)t.mid.push(s),c-=1;for(var u=n;u<=n+a+c;u+=1)t.mid.push(u)}else for(var m=n-a;m<=n+a;m+=1)t.mid.push(m);t.end.push(e)}else if("last"===r){t.front.push(1);for(var l=0;l<3;l+=1)t.end.push(e-l);if(n>=e-3+1&&(n=e-3),n+a>=e-3+1){for(var d=a,b=n+1;b<e-3+1;b+=1)t.mid.push(b),d-=1;for(var f=n;f>=n-a-d;f-=1)t.mid.push(f)}else for(var p=n-a;p<=n+a;p+=1)t.mid.push(p)}return t.front.sort((function(n,e){return n-e})),t.mid.sort((function(n,e){return n-e})),t.end.sort((function(n,e){return n-e})),t.front[t.front.length-1]+1===t.mid[0]&&(t.mid=t.front.concat(t.mid),t.front=null),t.mid[t.mid.length-1]+1===t.end[0]&&(t.mid=t.mid.concat(t.end),t.end=null),t},c=t(48);function s(){var n=Object(r.a)(["\n  width: 1.5rem;\n  padding: 0.375rem;\n  text-align: center;\n  & + & {\n    margin-left: 0.25rem;\n  }\n"]);return s=function(){return n},n}function u(){var n=Object(r.a)(["\n  width: 1rem;\n  padding: 0.375rem;\n  text-align: center;\n  & + & {\n    margin-left: 0.25rem;\n  }\n"]);return u=function(){return n},n}function m(){var n=Object(r.a)(["\n  width: 320px;\n  margin: 2rem auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  span {\n    margin: 0 0.25rem;\n    color: ",";\n  }\n  span::before {\n    content: '\\B7\\B7\\B7';\n  }\n"],["\n  width: 320px;\n  margin: 2rem auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  span {\n    margin: 0 0.25rem;\n    color: ",";\n  }\n  span::before {\n    content: '\\\\B7\\\\B7\\\\B7';\n  }\n"]);return m=function(){return n},n}var l=a.c.div(m(),(function(n){return n.theme.text})),d=Object(a.c)(c.b)(u()),b=Object(a.c)(c.b)(s()),f=function(n){var e=n.path,t=n.query,r=n.page;return t.length>0?"".concat(e,"?").concat(t,"&page=").concat(r):"".concat(e,"?page=").concat(r)},p=function(n){var e=n.handleClick,t=n.page,r=n.lastPage,a=i(t,r);return Object(o.jsxs)(l,{children:[a.front&&a.front.map((function(n){return Object(o.jsx)(b,{disabled:t===n,onClick:function(){return e(n)},children:n},n)})),a.front&&Object(o.jsx)("span",{}),a.mid&&a.mid.map((function(n){return Object(o.jsx)(b,{disabled:t===n,onClick:function(){return e(n)},children:n},n)})),a.end&&Object(o.jsx)("span",{}),a.end&&a.end.map((function(n){return Object(o.jsx)(b,{disabled:t===n,onClick:function(){return e(n)},children:n},n)}))]})};e.b=function(n){var e=n.path,t=n.query,r=n.page,a=n.lastPage,c=i(r,a);return Object(o.jsxs)(l,{children:[c.front&&c.front.map((function(n){return Object(o.jsx)(d,{disabled:r===n,to:f({path:e,query:t,page:n}),children:n},n)})),c.front&&Object(o.jsx)("span",{className:"page-skip"}),c.mid&&c.mid.map((function(n){return Object(o.jsx)(d,{disabled:r===n,to:f({path:e,query:t,page:n}),children:n},n)})),c.end&&Object(o.jsx)("span",{className:"page-skip"}),c.end&&c.end.map((function(n){return Object(o.jsx)(d,{disabled:r===n,to:f({path:e,query:t,page:n}),children:n},n)}))]})}},255:function(n,e,t){"use strict";t.r(e);var r=t(24),o=t.n(r),a=t(205),i=t(10),c=t(1),s=t(0),u=t(21),m=t(22),l=t(14),d=t(12),b=t(256),f=t(246),p=t(251),j=t(19),O=t(58),g=t(5),h=(t(7),t(27)),x=t(29),v=t(90),y=t(176),E=t(42),C=t(37),k=t(194),w=t(245),B=t(36),L=s.forwardRef((function(n,e){var t=n.action,r=n.classes,o=n.className,a=n.message,i=n.role,c=void 0===i?"alert":i,u=Object(j.a)(n,["action","classes","className","message","role"]);return s.createElement(f.a,Object(g.a)({role:c,square:!0,elevation:6,className:Object(h.a)(r.root,o),ref:e},u),s.createElement("div",{className:r.message},a),t?s.createElement("div",{className:r.action},t):null)})),M=Object(x.a)((function(n){var e="light"===n.palette.type?.8:.98,t=Object(B.b)(n.palette.background.default,e);return{root:Object(g.a)({},n.typography.body2,Object(O.a)({color:n.palette.getContrastText(t),backgroundColor:t,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:n.shape.borderRadius,flexGrow:1},n.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(L),N=s.forwardRef((function(n,e){var t=n.action,r=n.anchorOrigin,o=(r=void 0===r?{vertical:"bottom",horizontal:"center"}:r).vertical,a=r.horizontal,i=n.autoHideDuration,c=void 0===i?null:i,u=n.children,m=n.classes,l=n.className,d=n.ClickAwayListenerProps,b=n.ContentProps,f=n.disableWindowBlurListener,p=void 0!==f&&f,O=n.message,x=n.onClose,B=n.onEnter,L=n.onEntered,N=n.onEntering,T=n.onExit,I=n.onExited,P=n.onExiting,R=n.onMouseEnter,D=n.onMouseLeave,H=n.open,S=n.resumeHideDuration,q=n.TransitionComponent,_=void 0===q?w.a:q,z=n.transitionDuration,G=void 0===z?{enter:v.b.enteringScreen,exit:v.b.leavingScreen}:z,A=n.TransitionProps,W=Object(j.a)(n,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),J=s.useRef(),F=s.useState(!0),X=F[0],K=F[1],Q=Object(E.a)((function(){x&&x.apply(void 0,arguments)})),U=Object(E.a)((function(n){x&&null!=n&&(clearTimeout(J.current),J.current=setTimeout((function(){Q(null,"timeout")}),n))}));s.useEffect((function(){return H&&U(c),function(){clearTimeout(J.current)}}),[H,c,U]);var V=function(){clearTimeout(J.current)},Y=s.useCallback((function(){null!=c&&U(null!=S?S:.5*c)}),[c,S,U]);return s.useEffect((function(){if(!p&&H)return window.addEventListener("focus",Y),window.addEventListener("blur",V),function(){window.removeEventListener("focus",Y),window.removeEventListener("blur",V)}}),[p,Y,H]),!H&&X?null:s.createElement(y.a,Object(g.a)({onClickAway:function(n){x&&x(n,"clickaway")}},d),s.createElement("div",Object(g.a)({className:Object(h.a)(m.root,m["anchorOrigin".concat(Object(C.a)(o)).concat(Object(C.a)(a))],l),onMouseEnter:function(n){R&&R(n),V()},onMouseLeave:function(n){D&&D(n),Y()},ref:e},W),s.createElement(_,Object(g.a)({appear:!0,in:H,onEnter:Object(k.a)((function(){K(!1)}),B),onEntered:L,onEntering:N,onExit:T,onExited:Object(k.a)((function(){K(!0)}),I),onExiting:P,timeout:G,direction:"top"===o?"down":"up"},A),u||s.createElement(M,Object(g.a)({message:O,action:t},b)))))})),T=Object(x.a)((function(n){var e={top:8},t={bottom:8},r={justifyContent:"flex-end"},o={justifyContent:"flex-start"},a={top:24},i={bottom:24},c={right:24},s={left:24},u={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:n.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:Object(g.a)({},e,Object(O.a)({},n.breakpoints.up("sm"),Object(g.a)({},a,u))),anchorOriginBottomCenter:Object(g.a)({},t,Object(O.a)({},n.breakpoints.up("sm"),Object(g.a)({},i,u))),anchorOriginTopRight:Object(g.a)({},e,r,Object(O.a)({},n.breakpoints.up("sm"),Object(g.a)({left:"auto"},a,c))),anchorOriginBottomRight:Object(g.a)({},t,r,Object(O.a)({},n.breakpoints.up("sm"),Object(g.a)({left:"auto"},i,c))),anchorOriginTopLeft:Object(g.a)({},e,o,Object(O.a)({},n.breakpoints.up("sm"),Object(g.a)({right:"auto"},a,s))),anchorOriginBottomLeft:Object(g.a)({},t,o,Object(O.a)({},n.breakpoints.up("sm"),Object(g.a)({right:"auto"},i,s)))}}),{flip:!1,name:"MuiSnackbar"})(N),I=t(48),P=t(181),R=t(52),D=t(210);function H(){var n=Object(l.a)(["\n  margin-top: 0;\n  .list-item {\n    display: flex;\n    flex-direction: column;\n    margin: 1rem;\n    border-bottom: 1px solid ",";\n  }\n  .commenter-info {\n    margin-bottom: 1rem;\n    span + span::before {\n      padding: 0 0.25rem;\n      content: '\\B7'; /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n    }\n  }\n  .comment-content {\n    display: flex;\n    align-items: center;\n    margin-bottom: 1rem;\n    .comment-body {\n      flex: 1;\n      margin-right: 0.5rem;\n    }\n  }\n"],["\n  margin-top: 0;\n  .list-item {\n    display: flex;\n    flex-direction: column;\n    margin: 1rem;\n    border-bottom: 1px solid ",";\n  }\n  .commenter-info {\n    margin-bottom: 1rem;\n    span + span::before {\n      padding: 0 0.25rem;\n      content: '\\\\B7'; /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n    }\n  }\n  .comment-content {\n    display: flex;\n    align-items: center;\n    margin-bottom: 1rem;\n    .comment-body {\n      flex: 1;\n      margin-right: 0.5rem;\n    }\n  }\n"]);return H=function(){return n},n}function S(){var n=Object(l.a)(["\n  border: none;\n  transition: all ease-in 0.1s;\n"]);return S=function(){return n},n}function q(){var n=Object(l.a)(["\n  flex: 1;\n  .MuiInputBase-input {\n    color: ",";\n    font-family: 'NanumBarunGothic';\n  }\n  .MuiInputBase-input::placeholder {\n    opacity: 0.6;\n    font-family: 'NanumBarunGothic';\n    color: ",";\n  }\n  .MuiInput-underline:hover:not(.Mui-disabled)::before {\n    border-bottom: 2px solid ",";\n  }\n  .MuiInput-underline::before {\n    border-bottom: 1px solid ",";\n  }\n  .MuiInput-underline::after {\n    border-bottom: 2px solid ",";\n  }\n"]);return q=function(){return n},n}function _(){var n=Object(l.a)(["\n  display: flex;\n  &.MuiPaper-root {\n    background: ",";\n  }\n  margin: 1rem 0;\n  .button-text {\n    padding: 0.25rem 1rem;\n    background: ",";\n    border-radius: 2px;\n    color: ",";\n  }\n"]);return _=function(){return n},n}function z(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 2rem;\n  font-family: 'NanumBarunGothic';\n  color: ",";\n"]);return z=function(){return n},n}var G=Object(d.c)(R.a)(z(),(function(n){return n.theme.text})),A=Object(d.c)(f.a)(_(),(function(n){return n.theme.body}),(function(n){return n.theme.btnTransparentHoverBody}),(function(n){return n.theme.btnTransparentHoverText})),W=Object(d.c)(b.a)(q(),(function(n){return n.theme.text}),(function(n){return n.theme.text}),(function(n){return n.theme.themeColorHoverBody}),(function(n){return n.theme.text}),(function(n){return n.theme.themeColorBody})),J=Object(d.c)(I.b)(S()),F=d.c.div(H(),(function(n){return n.theme.postBorder})),X=function(n){var e=n.commenter,t=n.commentDate,r=n.body,o=n.isOwner,a=n.actionButtons;return Object(c.jsxs)("div",{className:"list-item",children:[Object(c.jsxs)("div",{className:"commenter-info",children:[Object(c.jsx)("span",{children:e.username}),Object(c.jsx)("span",{children:Object(p.a)(new Date(t),"yyyy-MM-dd HH:mm:ss")})]}),Object(c.jsxs)("div",{className:"comment-content",children:[Object(c.jsx)("div",{className:"comment-body",children:r.split("\n").map((function(n,e){return Object(c.jsxs)("span",{children:[n,Object(c.jsx)("br",{})]},"commentBody".concat(e))}))}),o&&a]})]})},K=function(n){var e=n.commentList,t=n.loading,r=n.count,o=n.commentInput,a=n.handleChange,i=n.handleSubmit,s=n.user,u=n.result,m=n.handleResultClose,l=n.handleEdit,d=n.handleRemove;return Object(c.jsxs)(G,{children:[Object(c.jsxs)("span",{children:["\ub313\uae00 ",r]}),Object(c.jsxs)(A,{elevation:0,children:[Object(c.jsx)(W,{multiline:!0,placeholder:s?"\ub313\uae00 \uc785\ub825":"\ub85c\uadf8\uc778 \ud6c4 \ub313\uae00\uc744 \uc791\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4",disabled:!s,value:o,onChange:a}),s&&Object(c.jsx)(J,{transparent:!0,onClick:i,children:Object(c.jsx)("span",{className:"button-text",children:"\uc791\uc131"})})]}),t?Object(c.jsx)(P.a,{customHeight:10}):Object(c.jsx)(F,{children:e.map((function(n){return Object(c.jsx)(X,{commenter:n.commenter,commentDate:n.commentDate,body:n.body,isOwner:s&&n.commenter._id===s._id,actionButtons:Object(c.jsx)(D.a,{type:"comment",onEdit:l,onRemove:function(){return d(n._id)}})},n._id)}))}),Object(c.jsx)(T,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!u.state,autoHideDuration:3e3,onClose:m,message:u.message})]})},Q=t(78),U=t(187),V=t(45);e.default=Object(m.g)((function(n){var e=n.match,t=Object(u.b)(),r=e.params.postId,m=Object(u.c)((function(n){var e=n.post,t=n.loading,r=n.user;return{commentList:e.commentList,count:e.commentCount,lastPage:e.commentLastPage,error:e.commentListError,loading:t["post/READ_POST_COMMENT"],editComment:e.editComment,editCommentError:e.editCommentError,user:r.user}})),l=m.commentList,d=m.count,b=m.lastPage,f=m.error,p=m.loading,j=m.editComment,O=m.editCommentError,g=m.user,h=Object(s.useState)(""),x=Object(i.a)(h,2),v=x[0],y=x[1],E=Object(s.useState)(1),C=Object(i.a)(E,2),k=C[0],w=C[1],B=Object(s.useState)({state:!1,message:""}),L=Object(i.a)(B,2),M=L[0],N=L[1],T=Object(s.useCallback)((function(n){y(n.target.value)}),[]),I=Object(s.useCallback)((function(){N({state:!1,message:""}),t(Object(Q.n)({id:r,body:v})),y("")}),[t,r,v]),P=Object(s.useCallback)((function(n){t(Object(Q.g)({id:r,page:n})),w(n)}),[t,r]),R=Object(s.useCallback)((function(n,e){"clickaway"!==e&&N({state:!1,message:""})}),[]),D=Object(s.useCallback)(function(){var n=Object(a.a)(o.a.mark((function n(e){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,N({state:!1,message:""}),n.next=4,Object(V.a)({id:r,commentId:e});case 4:204===n.sent.status&&(t(Object(Q.g)({id:r,page:k})),N({state:"true",message:"\uc131\uacf5\uc801\uc73c\ub85c \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."})),n.next=11;break;case 8:throw n.prev=8,n.t0=n.catch(0),new Error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}(),[t,r,k]);return Object(s.useEffect)((function(){t(Object(Q.g)({id:r}))}),[t,r]),Object(s.useEffect)((function(){j&&(t(Object(Q.k)()),t(Object(Q.g)({id:r})),w(1),N({state:"true",message:"\uc131\uacf5\uc801\uc73c\ub85c \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}))}),[t,j,r]),Object(s.useEffect)((function(){return function(){t(Object(Q.k)()),N({state:!1,message:""})}}),[t]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(K,{commentList:l,loading:p,error:f,editCommentError:O,count:d,commentInput:v,handleChange:T,handleSubmit:I,user:g,result:M,handleResultClose:R,handleRemove:D}),!p&&!f&&Object(c.jsx)(U.a,{handleClick:P,page:k,lastPage:b})]})}))}}]);
//# sourceMappingURL=22.68eeff88.chunk.js.map